export default { '.env': 'TEST_HOST=http://f1.test-adm.weoa.com', '.eslintrc': '{\n    "extends": "@webank/eslint-config-vue"\n}\n', '.fes.js': 'import { defineBuildConfig } from \'@fesjs/fes\';\n\nexport default defineBuildConfig({\n    proxy: {\n        \'/rcs-mas\': {\n            target: process.env.TEST_HOST,\n            secure: false,\n            changeOrigin: true,\n        },\n    },\n    layout: {\n        title: \'Fes.js\',\n        navigation: \'mixin\',\n        multiTabs: false,\n        footer: null,\n        menus: [\n            {\n                name: \'index\',\n            },\n        ],\n    },\n});\n', '.fes.prod.js': 'import { defineBuildConfig } from \'@fesjs/fes\';\n\nexport default defineBuildConfig({\n    publicPath: \'./\',\n});\n', '.fes.test.js': 'import { defineBuildConfig } from \'@fesjs/fes\';\n\nexport default defineBuildConfig({\n    publicPath: \'./\',\n});\n', '.gitignore': '.DS_Store\n.cache\n\n# dependencies\n/node_modules\n/coverage\n\n# fes\n/src/.fes\n/src/.fes-production\n/src/.fes-test\n.env.local\n', '.npmrc': 'registry=http://wnpm.weoa.com:8001\n# 使用pnpm必须加上\nshamefully-hoist=true', '.vscode': { 'settings.json': '{\n    "prettier.enable": false,\n    "editor.formatOnSave": false,\n    "editor.codeActionsOnSave": {\n        "source.fixAll.eslint": true\n    }\n}\n' }, 'index.html': '<!DOCTYPE html>\n<html lang="en">\n\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>\n        <%= title %>\n    </title>\n    <link rel="shortcut icon" type="image/x-icon" href="./logo.svg">\n</head>\n\n<body>\n    <div id="<%= mountElementId %>"></div>\n</body>\n\n</html>', 'package.json': '{\n    "name": "@fesjs/template",\n    "version": "3.0.0",\n    "private": true,\n    "description": "fes项目模版",\n    "author": "harrywan",\n    "license": "MIT",\n    "homepage": "https://github.com/WeBankFinTech/fes.js#readme",\n    "repository": {\n        "type": "git",\n        "url": "git+https://github.com/WeBankFinTech/fes.js.git",\n        "directory": "packages/fes-template"\n    },\n    "bugs": {\n        "url": "https://github.com/WeBankFinTech/fes.js/issues"\n    },\n    "keywords": [\n        "管理端",\n        "fes",\n        "fast",\n        "easy",\n        "strong"\n    ],\n    "scripts": {\n        "build:test": "FES_ENV=test fes build",\n        "build:prod": "FES_ENV=prod fes build",\n        "analyze": "ANALYZE=1 fes build",\n        "dev": "fes dev",\n        "lint": "eslint .",\n        "lint:fix": "eslint . --fix"\n    },\n    "publishConfig": {\n        "access": "public"\n    },\n    "dependencies": {\n        "@babel/preset-env": "7.20.2",\n        "@fesjs/builder-vite": "^3.0.0",\n        "@fesjs/fes": "^3.0.0",\n        "@fesjs/fes-design": "^0.7.31",\n        "@fesjs/plugin-access": "^3.0.0",\n        "@fesjs/plugin-layout": "^5.0.0",\n        "@fesjs/plugin-model": "^3.0.0",\n        "@fesjs/plugin-request": "^4.0.0-beta.1",\n        "@vueuse/core": "^10.1.2",\n        "@webank/fes-plugin-pmbank-um": "^3.0.0",\n        "@webank/we-utils": "^2.1.10",\n        "core-js": "^3.31.0",\n        "lodash-es": "^4.17.21",\n        "vue": "^3.3.4"\n    },\n    "devDependencies": {\n        "@webank/eslint-config-vue": "^2.0.6",\n        "eslint": "^8.42.0"\n    }\n}\n', 'public': { 'logo.svg': '<?xml version="1.0" encoding="UTF-8"?>\n<svg width="362px" height="233px" viewBox="0 0 362 233" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>编组 11</title>\n    <defs>\n        <linearGradient x1="50%" y1="23.3539127%" x2="50%" y2="75.8919734%" id="linearGradient-1">\n            <stop stop-color="#AAF2DA" offset="0%"></stop>\n            <stop stop-color="#34CD9A" offset="100%"></stop>\n        </linearGradient>\n        <linearGradient x1="50%" y1="100%" x2="50%" y2="3.061617e-15%" id="linearGradient-2">\n            <stop stop-color="#599EFF" offset="0%"></stop>\n            <stop stop-color="#1973F2" offset="99.9127581%"></stop>\n        </linearGradient>\n        <linearGradient x1="100%" y1="50%" x2="0%" y2="50%" id="linearGradient-3">\n            <stop stop-color="#1973F2" offset="0.0872418597%"></stop>\n            <stop stop-color="#599EFF" offset="100%"></stop>\n        </linearGradient>\n    </defs>\n    <g id="页面-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <g id="Fes-logo" transform="translate(-312.000000, -180.000000)">\n            <g id="编组-11" transform="translate(312.938719, 180.587900)">\n                <rect id="矩形备份-186" fill="url(#linearGradient-1)" transform="translate(179.801981, 116.472643) scale(-1, 1) rotate(-45.000000) translate(-179.801981, -116.472643) " x="143.248626" y="-10.2344074" width="73.1067103" height="253.414101" rx="30.7817728"></rect>\n                <g id="编组-16备份-10" transform="translate(115.948055, 115.948055) rotate(-45.000000) translate(-115.948055, -115.948055) translate(33.950773, 33.970025)">\n                    <path d="M0.0481867714,59.2637891 L59.3119758,59.2637891 L59.3119758,163.956059 L30.8299595,163.956059 C13.8296559,163.956059 0.0481867714,150.17459 0.0481867714,133.174287 L0.0481867714,59.2637891 L0.0481867714,59.2637891 Z" id="矩形备份-182" fill="url(#linearGradient-2)"></path>\n                    <path d="M0.0472202895,75.9520701 L0.0481867714,59.2637891 L0.0461296915,59.2637891 L0.017351946,24.1772609 L3.99314558e-07,24.1681816 C-0.00247808834,10.9598356 11.5330724,0.230998197 25.8645189,0.0036581736 L26.3655734,4.54747351e-13 L133.183567,4.54747351e-13 C150.177656,0.0145961112 163.956549,12.642143 163.981254,28.2242722 L163.994554,51.8115325 C164.001076,55.9272978 160.666468,59.265668 156.5507,59.2679887 C156.5493,59.2679895 156.547899,59.2679899 156.546498,59.2637891 L18.0022314,59.2637891 C8.50175631,59.2637891 0.720152073,66.62315 0.0472202895,75.9520701 Z" id="形状结合" fill="url(#linearGradient-3)"></path>\n                </g>\n                <g id="编组-16备份-11" transform="translate(244.595176, 115.948055) scale(-1, -1) rotate(-45.000000) translate(-244.595176, -115.948055) translate(162.597894, 33.970025)">\n                    <path d="M0.0481867714,59.2637891 L59.3119758,59.2637891 L59.3119758,163.956059 L30.8299595,163.956059 C13.8296559,163.956059 0.0481867714,150.17459 0.0481867714,133.174287 L0.0481867714,59.2637891 L0.0481867714,59.2637891 Z" id="矩形备份-182" fill="url(#linearGradient-2)"></path>\n                    <path d="M0.0472202895,75.9520701 L0.0481867714,59.2637891 L0.0461296915,59.2637891 L0.017351946,24.1772609 L3.99314558e-07,24.1681816 C-0.00247808834,10.9598356 11.5330724,0.230998197 25.8645189,0.0036581736 L26.3655734,4.54747351e-13 L133.183567,4.54747351e-13 C150.177656,0.0145961112 163.956549,12.642143 163.981254,28.2242722 L163.994554,51.8115325 C164.001076,55.9272978 160.666468,59.265668 156.5507,59.2679887 C156.5493,59.2679895 156.547899,59.2679899 156.546498,59.2637891 L18.0022314,59.2637891 C8.50175631,59.2637891 0.720152073,66.62315 0.0472202895,75.9520701 Z" id="形状结合" fill="url(#linearGradient-3)"></path>\n                </g>\n            </g>\n        </g>\n    </g>\n</svg>' }, 'src': { 'app.jsx': 'import { access, defineRuntimeConfig, pum, request } from \'@fesjs/fes\';\nimport { FMessage } from \'@fesjs/fes-design\';\nimport { isPlainObject } from \'lodash-es\';\nimport { BASE_URL } from \'@/common/constants\';\nimport PageLoading from \'@/components/pageLoading.vue\';\nimport UserCenter from \'@/components/userCenter.vue\';\n\nexport default defineRuntimeConfig({\n    beforeRender: {\n        loading: <PageLoading />,\n        async action() {\n            const { setAccess } = access;\n            await pum.login();\n            const userInfo = await request(\'/um/uri.do\', null);\n            const uriList = (userInfo.uriList || []).concat(\'/\');\n            // TODO 权限控制 setAccess(uriList);\n            setAccess([\'*\']);\n            console.log(userInfo);\n            return userInfo;\n        },\n    },\n    layout: {\n        renderCustom: () => <UserCenter />,\n    },\n    request: {\n        baseURL: BASE_URL,\n        transformData(data) {\n            // 处理响应内容异常\n            if (isPlainObject(data))\n                return data?.result ? data.result : data;\n\n            return data;\n        },\n        // http 异常，和插件异常\n        errorHandler(error) {\n            if (error.response) {\n                // 请求成功发出且服务器也响应了状态码，但状态代码超出了 2xx 的范围\n                console.log(error.response.data);\n                console.log(error.response.status);\n                console.log(error.response.headers);\n                FMessage.error(`服务端异常：${error.response.status}`);\n            } else if (error.msg) {\n                FMessage.error(error.msg);\n            } else {\n                // 发送请求时出了点问题\n                console.log(\'Error\', error.message);\n                FMessage.error(error.message);\n            }\n            console.log(error.config);\n        },\n    },\n});\n', 'common': { 'constants.js': 'export const BASE_URL = \'/rcs-mas\';\n\nexport const RunCondition = {\n    MANUAL: 0,\n    PageLoads: 1,\n};\n\nexport const CodeType = {\n    JAVASCRIPT_QUERY: \'query\',\n    JAVASCRIPT_COMPUTED: \'computed\',\n    TEMPORARY_STATE: \'state\',\n};\n', 'reactive.js': 'import { computed, reactive, shallowReactive } from \'vue\';\n\nexport function markShallowReactive(target, properties) {\n    const state = shallowReactive(properties);\n    Object.keys(properties).forEach((key) => {\n        Object.defineProperty(target, key, {\n            get() {\n                return state[key];\n            },\n            set(value) {\n                state[key] = value;\n            },\n        });\n    });\n    return target;\n}\n\nexport function markReactive(target, properties) {\n    const state = reactive(properties);\n    Object.keys(properties).forEach((key) => {\n        Object.defineProperty(target, key, {\n            get() {\n                return state[key];\n            },\n            set(value) {\n                state[key] = value;\n            },\n        });\n    });\n    return target;\n}\n\nexport function markComputed(target, properties) {\n    const prototype = Object.getPrototypeOf(target);\n    properties.forEach((key) => {\n        const descriptor = Object.getOwnPropertyDescriptor(prototype, key);\n        if (descriptor?.get) {\n            const tmp = computed(descriptor.get.bind(target));\n            Object.defineProperty(target, key, {\n                get() {\n                    return tmp.value;\n                },\n            });\n        }\n    });\n    return target;\n}\n' }, 'components': { 'pageLoading.vue': '<template>\n    <div class="page-loading">\n        <FSpin size="large" stroke="#5384ff" />\n    </div>\n</template>\n\n<script>\nimport { FSpin } from \'@fesjs/fes-design\';\n\nexport default {\n    components: {\n        FSpin,\n    },\n    setup() {\n        return {};\n    },\n};\n</script>\n\n<style>\n.page-loading {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n</style>\n', 'userCenter.vue': '<template>\n    <div class="right">\n        {{ initialState.user }}\n    </div>\n</template>\n\n<script>\nimport { useModel } from \'@fesjs/fes\';\n\nexport default {\n    setup() {\n        const initialState = useModel(\'@@initialState\');\n        return {\n            initialState,\n        };\n    },\n};\n</script>\n\n<style scope>\n.right {\n    text-align: right;\n    padding: 0 20px;\n}\n</style>\n' }, 'global.less': 'body, html {\n    margin: 0;\n}\n.letgo-page {\n    padding: 15px;\n    border-radius: 4px;\n    background-color: #fff;\n}\n.fes-layout-main {\n    padding: 15px;\n}', 'models': { 'user.js': '' }, 'pages': { 'index.vue': '<template>\n    <div style="padding: 32px">hello world</div>\n</template>\n\n<script setup>\nimport { defineRouteMeta } from \'@fesjs/fes\';\n\ndefineRouteMeta({\n    name: \'index\',\n    title: \'首页\',\n});\n</script>\n' }, 'use': { 'useComputed.js': 'import { computed, reactive } from \'vue\';\n\nexport function useComputed({\n    id,\n    func,\n}) {\n    return reactive({\n        id,\n        value: computed(() => {\n            try {\n                return func();\n            } catch (_) {\n                return null;\n            }\n        }),\n    });\n}\n', 'useInstance.js': 'import { ref } from \'vue\';\n\nexport function useInstance() {\n    const refEl = ref();\n    const proxy = new Proxy({}, {\n        get(_, key) {\n            return refEl.value?.[key];\n        },\n        set(_, key, value) {\n            if (refEl.value)\n                refEl.value[key] = value;\n        },\n    });\n    return [refEl, proxy];\n}\n', 'useJSQuery.js': 'import { markReactive } from \'@/common/reactive\';\nimport { RunCondition } from \'@/common/constants\';\n\nclass JSQuery {\n    constructor(data) {\n        markReactive(this, {\n            id: data.id,\n            query: data.query,\n            enableCaching: false,\n            cacheDuration: null,\n            enableTransformer: data.enableTransformer || false,\n            transformer: data.transformer,\n            showFailureToaster: data.showFailureToaster || false,\n            showSuccessToaster: data.showSuccessToaster || false,\n            runWhenPageLoads: data.runWhenPageLoads || false,\n            successMessage: data.successMessage || \'\',\n            queryTimeout: data.queryTimeout,\n            runCondition: data.runCondition || RunCondition.MANUAL,\n            queryFailureCondition: data.queryFailureCondition || [],\n            successEvent: data.successEvent || [],\n            failureEvent: data.failureEvent || [],\n\n            data: null,\n            error: null,\n        });\n    }\n\n    timeoutPromise(timeout) {\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                reject({\n                    type: \'TIMEOUT\',\n                    msg: \'请求超时\',\n                });\n            }, timeout);\n        });\n    }\n\n    async trigger() {\n        if (this.enableCaching && this.cacheTime && (Date.now() - this.cacheTime) < this.cacheDuration * 1000)\n            return;\n\n        if (this.query) {\n            try {\n                if (this.queryTimeout)\n                    this.data = await Promise.race([this.timeoutPromise(this.queryTimeout), this.query()]);\n                else\n                    this.data = await this.query();\n\n                this.cacheTime = Date.now();\n                this.successEvent.forEach((eventHandler) => {\n                    eventHandler();\n                });\n            } catch (err) {\n                this.failureEvent.forEach((eventHandler) => {\n                    eventHandler();\n                });\n                if (err instanceof Error)\n                    this.error = err.message;\n            }\n        }\n    }\n\n    clearCache() {\n        this.cacheTime = null;\n    }\n\n    reset() {\n        this.clearCache();\n        this.data = null;\n        this.error = null;\n    }\n}\n\nexport function useJSQuery(data) {\n    const result = new JSQuery(data);\n\n    if (data.runWhenPageLoads)\n        result.trigger();\n\n    return result;\n}\n', 'useLetgoGlobal.js': 'import { useSharedComposable } from \'@vueuse/core\';\nimport { reactive } from \'vue\';\n\nfunction _useLetgoConfig() {\n    const letgoGlobal = reactive({});\n\n    return letgoGlobal;\n}\n\nexport const useLetgoConfig = useSharedComposable(_useLetgoConfig);\n', 'useTemporaryState.js': 'import { reactive } from \'vue\';\n\nexport function useTemporaryState({ id, initValue }) {\n    const result = reactive({\n        id,\n        value: initValue,\n        setValue,\n    });\n    function setValue(val) {\n        result.value = val;\n    }\n    return result;\n}\n' } }, 'tsconfig.json': '{\n  "compilerOptions": {\n    "outDir": "build/dist",\n    "module": "esnext",\n    "target": "esnext",\n    "lib": [\n      "esnext",\n      "dom"\n    ],\n    "sourceMap": true,\n    "baseUrl": ".",\n    "jsx": "preserve",\n    "allowSyntheticDefaultImports": true,\n    "moduleResolution": "node",\n    "forceConsistentCasingInFileNames": true,\n    "noImplicitReturns": true,\n    "noUnusedLocals": true,\n    "allowJs": true,\n    "experimentalDecorators": true,\n    "strict": true,\n    "paths": {\n      "@/*": [\n        "./src/*"\n      ],\n      "@@/*": [\n        "./src/.fes/*"\n      ]\n    }\n  },\n  "include": [\n    "*.js",\n    ".fes*.js",\n    "src/**/*",\n    "typings/**/*",\n    "config/**/*"\n  ],\n  "exclude": [\n    "build",\n    "dist",\n    "scripts",\n    "webpack",\n    "jest",\n    "node_modules"\n  ]\n}' };
